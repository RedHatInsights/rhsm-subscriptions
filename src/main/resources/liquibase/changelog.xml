<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog
  xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

    <include file="liquibase/201906181633-create-schema.xml"/>
    <include file="liquibase/201907121110-add-snapshot-date-index.xml"/>
    <include file="liquibase/201907121757-add-sockets-column.xml"/>
    <include file="liquibase/201909162045-add-capacity-table.xml"/>
    <include file="liquibase/201910021550-add-physical-counts-columns.xml"/>
    <include file="liquibase/201910091200-add-hypervisor-counts-columns.xml"/>
    <include file="liquibase/201910291044-alter-capacity-pk-and-tally-idx.xml"/>
    <include file="liquibase/201911061510-drop-account-not-null.xml"/>
    <include file="liquibase/201911141401-add-cores-to-subscription-capacity.xml"/>
    <include file="liquibase/202001031047-add-marketing-product-id-to-capacity.xml"/>
    <include file="liquibase/202001141534-add-snapshot-measurements-table.xml"/>
    <include file="liquibase/202002061140-update-copy-measurement-procedure.xml"/>
    <include file="liquibase/202002140932-add-sla-column-to-snapshot-and-capacity-tables.xml"/>
    <include file="liquibase/202003021107-make-tally-sla-non-null.xml"/>
    <include file="liquibase/202003261146-add-table-for-account-config.xml"/>
    <include file="liquibase/202003271146-add-table-for-org-config.xml"/>
    <include file="liquibase/202005041611-add-usage-column-to-snapshot-and-capacity-tables.xml"/>
    <include file="liquibase/202005281015-add-host-and-host-tally-bucket-tables.xml" />
    <include file="liquibase/202006180903-add-usage-to-host.xml" />
    <include file="liquibase/202007140728-change-id-column-on-hosts-table.xml" />
    <include file="liquibase/202009041415-use-uuid-for-id-on-hosts-table.xml" />
    <include file="liquibase/202008250927-add-cloudigrade-type.xml" />
    <include file="liquibase/202009211317-add-additional-host-fields.xml" />
    <include file="liquibase/202010080931-fix-capacity-unspecified.xml" />
    <include file="liquibase/202011090921-re-add-hypervisor-type.xml" />
    <include file="liquibase/202012181510-add-offering-table.xml" />
    <include file="liquibase/202012141133-enforce-display-name-not-null.xml" />
    <include file="liquibase/202011130945-add-events-table.xml" />
    <include file="liquibase/202101081600-tweak-offering.xml" />
    <include file="liquibase/202101121122-add-subscription-table.xml" />
    <include file="liquibase/202102031030-update-subscription-pkey.xml" />
    <include file="liquibase/202101260823-add-measurements-tables.xml" />
    <include file="liquibase/202101291558-modify-hosts-for-non-hbi-sources.xml" />
    <include file="liquibase/202102260917-add-instance-monthly-totals.xml" />
    <include file="liquibase/202102261751-add-marketplace-subscription-id.xml" />
    <include file="liquibase/202103031601-modify-hosts-instance-id-not-null.xml" />
    <include file="liquibase/202102251446-add-constraints-indexes-fields-to-events.xml" />
    <include file="liquibase/202104051823-add-constraints-to-tally-snapshots.xml" />
    <include file="liquibase/202104091791-insert-openshift-skus.xml" />
    <include file="liquibase/202107121534-add-subscription-number-to-subscription.xml" />
    <include file="liquibase/202107140929-ent-4055-cleanup-event-data.xml" />
    <include file="liquibase/202111331133-add-account-service-table.xml" />
    <include file="liquibase/202110211313-add-rhosak-offering.xml" />
    <include file="liquibase/202110211314-add-description-column-to-offering.xml" />
    <include file="liquibase/202112171721-add-subscription-indexes.xml" />
    <include file="liquibase/202202041415-add-unlimited-usage-column-to-offering-table.xml" />
    <include file="liquibase/202202211433-add-billing-provider-column-to-subscription-table.xml" />
    <include file="liquibase/202203161423-add-billing-provider-column-to-host-table.xml" />
    <include file="liquibase/202203241102-add-billing-provider-column-to-tally-snapshots.xml" />
    <include file="liquibase/202204081020-add-billing-account-id-column-to-subscriptions.xml" />
    <include file="liquibase/202204131346-add-billing-account-id-column-to-hosts.xml" />
    <include file="liquibase/202204041547-add-billing-account-id-column-to-snapshot-table.xml" />
    <include file="liquibase/202205021439-add-billingProvider-and-billingAccountId-columns-to-host-tally-buckets.xml" />
    <include file="liquibase/202205191543-recreate-billing-columns.xml"/>
    <include file="liquibase/202205161446-update-index-on-host-tally-bucket.xml"/>
    <include file="liquibase/202205171157-update-billing-account-and-billing-provider-columns-in-snapshot-and-host-tally-bucket-tables.xml"/>
    <include file="liquibase/202205231334-create-billable-usage-tracking-table.xml"/>
    <include file="liquibase/202206021315-add-version-to-billable-usage-tracking-table.xml"/>
    <include file="liquibase/202207201200-add-org-id-to-event-table.xml"/>
    <include file="liquibase/202207051553-drop-deprecated-tally-snapshot-columns.xml"/>
    <include file="liquibase/202208091622-add-org-id-to-account-config.xml"/>
    <include file="liquibase/202208241137-remove-copy-triggers.xml"/>
    <include file="liquibase/202208241637-clean-up-tally-measurements-after-revert.xml"/>
    <include file="liquibase/202208231227-add-org-id-to-account-service-table.xml"/>
    <include file="liquibase/202208301033-default-null-hardware-measurements.xml"/>
    <include file="liquibase/202208301423-set-tally-snapshot-owner-id.xml"/>
    <include file="liquibase/202209121018-update-primary-key-of-account-config.xml"/>
    <!--
    NOTE: we're temporarily disabling 202208251616-migrate-cores-sockets-data.xml because the
    migration blocks cronjobs, etc
    <include file="liquibase/202208251616-migrate-cores-sockets-data.xml"/>
    -->
    <include file="liquibase/202208191129-add-version-to-host_tally_buckets.xml"/>
    <include file="liquibase/202209301035-migrate-org-id-to-hosts-table.xml"/>
    <include file="liquibase/202209301614-migrate-org-id-to-events-table.xml"/>
    <include file="liquibase/202209301230-migrate-org-id-to-billable-usage-table.xml"/>
    <include file="liquibase/202210101553-make-account-config-org-id-nullable.xml"/>
    <include file="liquibase/202210101642-drop-unused-opt-in-flags.xml"/>
    <include file="liquibase/202210211001-set-account-services-org-id.xml"/>
    <include file="liquibase/202210251446-change-constraints-indexes-fields-to-events.xml"/>
    <include file="liquibase/202210281140-rename-owner-id-to-org-id.xml"/>
    <include file="liquibase/202211011504-drop-hardware-measurements-table.xml"/>
    <include file="liquibase/202211071027-change-account_services-pkey.xml"/>
    <include file="liquibase/202211181230-update-primary-key-migrate-org-id-to-billable-usage-table.xml"/>
    <include file="liquibase/202211091649-rename-physical-virtual-cores-sockets-columns.xml"/>
    <include file="liquibase/202211281427-change-account_services-account-number-drop_not_null.xml"/>
    <include file="liquibase/202211301043-update-host-table-constraints.xml"/>
    <include file="liquibase/202212121039-create-tally-instance-view.xml"/>
    <include file="liquibase/202301041519-fix-tally-snapshot-index-for-rollup-query.xml"/>
    <include file="liquibase/202212011334-add-billing-factor-column-to-remittance-table.xml"/>
    <include file="liquibase/202301031409-update-tally-instance-view.xml"/>
    <include file="liquibase/202301251546-remove-sockets-and-cores-from-hosts-table.xml"/>
    <include file="liquibase/202212161446-add-derived-sku-to-offering.xml"/>
    <include file="liquibase/202301311609-update-tally-instance-view-default-num-of-guest-add-subscription_manager_id.xml"/>
    <include file="liquibase/202302141154-add-basilisk-product.xml"/>
    <include file="liquibase/202302151544-remove-uuid-cast-on-instance-id-in-tally-instance-view.xml"/>
    <include file="liquibase/202305231003-update-remittance-table-for-history.xml"/>
    <!--    <include file="/liquibase/202305261600-rollback-update-remittance-table-for-history.xml" />-->
    <include file="liquibase/202305231247-update-host-pk-for-dup-violation.xml"/>
    <include file="liquibase/202305031403-create-subscription-measurements-table.xml"/>
    <include file="liquibase/202306201611-add-subscription-id-index-for-measurements.xml"/>
    <include file="liquibase/202306151541-add-sku-foreign-key-to-subscription.xml"/>
    <include file="liquibase/202306291611-add-extra-index-for-product-ids.xml"/>
    <include file="liquibase/202307131511-drop-trigger-on-subscription.xml"/>
    <include file="liquibase/202307171013-add-indexes-for-tally-instance-view-queries.xml"/>
    <include file="liquibase/202307131456-remove-granularity-from-billable-usage-remittance.xml"/>
    <include file="liquibase/202307051132-rename-instance_id-to-host_id.xml"/>
    <!-- Uncomment once the above changeset has landed in prod -->
    <!-- <include file="liquibase/202307051245-drop-instance_id-columns.xml"/> -->
    <include file="liquibase/202308151557-fix-subscription-measurement-metric-id-casing.xml"/>
    <!-- Disabling below due to issues during prod deploy on 2023-08-29 -->
    <!-- <include file="liquibase/202308211518-rename-rhel-product-ids.xml"/> -->
    <include file="liquibase/202307261851-event-change-event-type-data.xml"/>
    <include file="liquibase/202308210806-add-metric-id-instance-measurements.xml"/>
    <include file="liquibase/202308210906-drop-uom-column-instance-measurements.xml"/>
    <include file="liquibase/202308231356-add-metric-id-tally-measurements.xml"/>
    <include file="liquibase/202308231456-drop-uom-column-tally-measurements.xml"/>
    <include file="liquibase/202309111412-drop-subscription-capacity-table.xml"/>
    <include file="liquibase/202309011316-rename-id-event-record.xml"/>
    <include file="liquibase/202309011416-drop-id-event-record.xml"/>
    <include file="liquibase/202309081416-add-span-id-event-record.xml"/>
    <include file="liquibase/202309181256-add-recorddate-column-events.xml"/>
    <include file="liquibase/202310041633-fix-placeholder-values-for-rosa.xml"/>
    <!-- Need to fix duplicate key issue -->
    <!-- <include file="liquibase/202309181629-fix-measurement-metric-id-formatting.xml"/> -->
    <include file="/liquibase/202310131200-remove-account-config.xml"/>
    <include file="/liquibase/202310251600-replace-account-config-table.xml"/>
    <include file="/liquibase/202311161207-drop-account-config-table.xml"/>
    <include file="/liquibase/202312200751-add-metered-column-for-offering-table.xml"/>
    <include file="/liquibase/202401151414-add-retry_after-column-to-billable_usage_remittance-table.xml"/>
    <include file="/liquibase/202402051200-add-id-and-hardware-columns-to-billable_usage_remittance-table.xml"/>
    <include file="/liquibase/202311211112-remove-default-sockets-cores-on-buckets.xml"/>
    <include file="/liquibase/202402151211-add-sku-product-tag-table.xml"/>
    <include file="/liquibase/202403131500-change-pk-from-billable-usage-remittance.xml"/>
    <include file="liquibase/202309271135-add-event-lookup-index.xml" />
    <include file="/liquibase/202309271140-create-tally-state-table.xml" />
    <include file="/liquibase/202309281140-add-record-date-to-events-pk.xml" />
    <include file="/liquibase/202311221520-add-last_applied_event_record_date-column-to-hosts.xml" />
    <include file="/liquibase/202312010920-add-org-id-instance-id-index-to-hosts.xml" />
    <include file="/liquibase/202401080920-remove-uniqueness-constraint-on-events.xml" />
    <include file="/liquibase/202401161133-update-instance-view-to-include-last-applied-event-record-date.xml" />
    <include file="/liquibase/202403260830-update-instance-view-to-include-inventory-id.xml" />
    <include file="/liquibase/202404051233-fix-bad-tally-state-and-event-data.xml"/>
</databaseChangeLog>
<!-- vim: set expandtab sts=4 sw=4 ai: -->
