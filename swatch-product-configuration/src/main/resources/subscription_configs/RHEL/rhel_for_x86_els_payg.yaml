---
platform: RHEL

id: rhel-for-x86-els-payg

vdcType: true

variants:
  - tag: rhel-for-x86-els-payg
    isMigrationProduct: true
    engineeringIds:
      - 204

defaults:
  variant: rhel-for-x86-els-payg
  sla: PREMIUM
  usage: PRODUCTION

serviceType: RHEL System

contractEnabled: false #There is no need to generate an AWS contract listing because we will be using a non-Saas contract flow.

metrics:
  - id: vCPUs
    type: counter
    awsDimension: vCPU_hours
    # NOTE(khowell) disabled on 2024-10-15 to be re-enabled on 2024-11-01
    #azureDimension: vcpu_hours
    prometheus:
      queryKey: rhelemeter
      queryParams:
        productLabelRegex: .*(^|,)(204)($|,).*",product=~".*(^|,)69(,|$).*" # Filter metrics to include only those with product IDs 69 and 204.
        metric: system_cpu_logical_count
        instanceKey: billing_marketplace_instance_id
