---
platform: RHEL

id: rhel-for-x86-els-payg-addon

vdcType: true

variants:
  - tag: rhel-for-x86-els-payg-addon
    isMigrationProduct: false
    engineeringIds:
      - 204
    additionalTags: [ "RHEL for x86" ]

defaults:
  variant: rhel-for-x86-els-payg-addon
  sla: PREMIUM
  usage: PRODUCTION

serviceType: RHEL System

contractEnabled: false #There is no need to generate an AWS contract listing because we will be using a non-Saas contract flow.

metrics:
  - id: vCPUs
    awsDimension: vcpu_hourly
    azureDimension: vcpu_hours
    prometheus:
      queryKey: rhelemeter
      queryParams:
        productLabelRegex: .*(^|,)(204)($|,).* # this regex is used to fetch metrics for the product label that contains the product/engineering ID 204. the number here needs to map to a tag defined in the variant section of this file
        metric: system_cpu_logical_count
        instanceKey: billing_marketplace_instance_id
